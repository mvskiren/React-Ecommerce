{"ast":null,"code":"var _jsxFileName = \"/Users/saikiran/Desktop/Mojo-Ecommerce/react-ecommerce/src/components/Details.js\";\nimport React, { Component } from 'react';\nimport Strapi from 'strapi-sdk-javascript/build/main';\nimport { Box, Heading, Text, Button, Mask, IconButton } from \"gestalt\"; // import classes from './details.css';\n\nimport { calcPrice, getcart, setcart } from '../utils/index';\nimport { Link, withRouter } from \"react-router-dom\";\nimport HashLoader from \"react-spinners/HashLoader\";\nconst apiUrl = 'https://strapi-mangodb.herokuapp.com'; //|| process.env.API_URL || 'http://localhost:1337'\n\nconst strapi = new Strapi(apiUrl);\n\nclass Details extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      price: \"\",\n      Reseller: \"\",\n      details: [],\n      checkdetails: [],\n      name: \"\",\n      loading: false,\n      cartItems: []\n    };\n\n    this.addTocart = () => {\n      const alreadyInCart = this.state.cartItems.findIndex(items => items._id === this.state.checkdetails._id);\n\n      if (alreadyInCart === -1) {\n        const updateCartItems = this.state.cartItems.concat({ ...this.state.checkdetails,\n          quantity: 1\n        });\n        this.setState({\n          cartItems: updateCartItems\n        }, () => setcart(updateCartItems));\n      } else {\n        const updateCartItems = [...this.state.cartItems];\n        updateCartItems[alreadyInCart].quantity += 1;\n        this.setState({\n          cartItems: updateCartItems\n        }, () => setcart(updateCartItems));\n      }\n    };\n\n    this.checkout = () => {\n      this.props.history.push(\"/Checkout\");\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await strapi.request('POST', '/graphql', {\n        data: {\n          query: `\n                query{\n                    brand (id: \"${this.props.match.params.brandId}\"){\n                      _id\n                      name\n                    details {\n                      _id\n                    \n                      Image{\n                        url\n                      }\n                      Price\n                      Reseller\n                    }\n                  }\n                  }`\n        }\n      });\n      this.setState({\n        price: response.data.brand.details[0].Price,\n        Reseller: response.data.brand.details[0].Reseller,\n        details: response.data,\n        checkdetails: response.data.brand.details[0],\n        name: response.data.brand.name,\n        cartItems: getcart()\n      });\n      this.setState({\n        loading: true\n      });\n      console.log(response);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  render() {\n    if (this.state.loading === false) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          'margin-top': \"250px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(HashLoader, {\n        size: 45,\n        color: \"#000000\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `${apiUrl}${this.state.details.brand.details[0].Image.url}`,\n      alt: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"Brand Name: \", this.state.name), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, \"Reseller : \", this.state.Reseller), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, \"Price :\", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 26\n      }\n    }, this.state.price, \"/-\")), /*#__PURE__*/React.createElement(Box, {\n      paddingY: 4,\n      margin: 2,\n      width: 200,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.addTocart,\n      text: \"Add to Cart\",\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Box, {\n      margin: 7,\n      marginLeft: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Mask, {\n      shape: \"rounded\",\n      wash: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      direction: \"column\",\n      alignItems: \"center\",\n      padding: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        background: 'linear-gradient(to right ,#FF0000, #6f6f89)',\n        '-webkit-background-clip': 'text',\n        '-webkit-text-fill-color': 'transparent'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 16\n      }\n    }, \"Cart \"), /*#__PURE__*/React.createElement(Text, {\n      color: \"gray\",\n      italic: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    }, this.state.cartItems.length, \" items selected\"), this.state.cartItems.map((items, index) => /*#__PURE__*/React.createElement(Box, {\n      key: items._id,\n      display: \"flex\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 22\n      }\n    }, \"Item -\", index + 1, \" : \"), \"  \", this.state.name, \" *(Qty-\", items.quantity, \") -$\", (items.quantity * items.Price).toFixed(2)), /*#__PURE__*/React.createElement(IconButton, {\n      icon: \"cancel\",\n      colour: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 22\n      }\n    }))), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      direction: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      margin: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, this.state.cartItems.length === 0 && /*#__PURE__*/React.createElement(Text, {\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 23\n      }\n    }, \"Cart is Empty\")), /*#__PURE__*/React.createElement(Box, {\n      margin: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"Total \", calcPrice(this.state.cartItems))), /*#__PURE__*/React.createElement(Button, {\n      text: \"Checkout\",\n      inline: true,\n      onClick: this.checkout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nexport default withRouter(Details);","map":{"version":3,"sources":["/Users/saikiran/Desktop/Mojo-Ecommerce/react-ecommerce/src/components/Details.js"],"names":["React","Component","Strapi","Box","Heading","Text","Button","Mask","IconButton","calcPrice","getcart","setcart","Link","withRouter","HashLoader","apiUrl","strapi","Details","state","price","Reseller","details","checkdetails","name","loading","cartItems","addTocart","alreadyInCart","findIndex","items","_id","updateCartItems","concat","quantity","setState","checkout","props","history","push","componentDidMount","response","request","data","query","match","params","brandId","brand","Price","console","log","err","error","render","display","justifyContent","alignItems","flexDirection","margin","Image","url","background","length","map","index","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Strapi from 'strapi-sdk-javascript/build/main';\nimport { Box, Heading,Text,Button,Mask,IconButton } from \"gestalt\";\n// import classes from './details.css';\nimport {calcPrice,getcart,setcart} from '../utils/index';\nimport { Link,withRouter } from \"react-router-dom\"; \nimport HashLoader from \"react-spinners/HashLoader\";\n\n\n\nconst apiUrl='https://strapi-mangodb.herokuapp.com' ; //|| process.env.API_URL || 'http://localhost:1337'\nconst strapi =new Strapi(apiUrl);\n\n\n\nclass Details extends Component {\n    state={\n        price :\"\",\n        Reseller : \"\",\n        details: [],\n        checkdetails: [],\n        name:\"\",\n        loading: false,\n        cartItems: [],\n\n    };\n  async componentDidMount()\n  {\n      try{\n        const response =await strapi.request('POST','/graphql',{\n            data:{\n                query:`\n                query{\n                    brand (id: \"${this.props.match.params.brandId}\"){\n                      _id\n                      name\n                    details {\n                      _id\n                    \n                      Image{\n                        url\n                      }\n                      Price\n                      Reseller\n                    }\n                  }\n                  }`\n    \n            }\n        });\n        this.setState(\n            {\n                price: response.data.brand.details[0].Price,\n                Reseller: response.data.brand.details[0].Reseller,\n                details : response.data,\n                checkdetails : response.data.brand.details[0],\n                name:response.data.brand.name,\n                cartItems: getcart()\n                \n                \n            }\n        );\n        this.setState({loading : true})\n        console.log(response);\n\n      }\n          catch(err){\n              console.error(err);\n          }\n      \n    \n\n  }\n  addTocart=()=>\n  {\n    const alreadyInCart=this.state.cartItems.findIndex(items => items._id===this.state.checkdetails._id);\n    if(alreadyInCart===-1){\n      const updateCartItems=this.state.cartItems.concat({\n        ...this.state.checkdetails,\n        quantity:1\n      });\n      this.setState({cartItems: updateCartItems},()=> setcart(updateCartItems));\n    }\n    else {\n      const updateCartItems=[...this.state.cartItems];\n      updateCartItems[alreadyInCart].quantity+=1;\n      this.setState({cartItems:updateCartItems},()=> setcart(updateCartItems));\n    }\n\n  }\n  checkout=() => {\n   this.props.history.push(\"/Checkout\");\n  }\n\n\n\n    render() {\n        if(this.state.loading===false) {\n            return <div style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",'margin-top':\"250px\"}}>  \n            <HashLoader\n            size={45}\n            color={\"#000000\"}\n          />\n            </div>\n        \n        }\n        return (\n            <div style={{display: \"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",margin:\"10px\"}}>\n              \n              <img src={`${apiUrl}${this.state.details.brand.details[0].Image.url}`} alt=\"product\"/>\n              <h3>Brand Name: {this.state.name}</h3>\n              <h4>Reseller : {this.state.Reseller}</h4>\n              <h5>Price :<strong>{this.state.price}/-</strong></h5>\n              <Box paddingY={4} margin={2} width={200}>\n              <Button  onClick={this.addTocart}text=\"Add to Cart\" color=\"blue\" />\n              </Box>\n\n            <Box margin={7} marginLeft={9}>\n              <Mask shape=\"rounded\" wash>\n                <Box display=\"flex\" direction=\"column\" alignItems=\"center\" padding={9} >\n               <h2 style={{background: 'linear-gradient(to right ,#FF0000, #6f6f89)','-webkit-background-clip': 'text',\n         '-webkit-text-fill-color': 'transparent'}}>Cart </h2>\n                  <Text color=\"gray\" italic>\n                    {this.state.cartItems.length} items selected\n                  </Text>\n                  {this.state.cartItems.map((items,index) =>(\n                    <Box key={items._id} display=\"flex\" alignItems=\"center\">\n                     <Text>\n                     <strong>Item -{index+1} : </strong>  {this.state.name} *(Qty-{items.quantity}) -${(items.quantity * items.Price).toFixed(2)}\n                     </Text>\n                     <IconButton\n                     icon=\"cancel\"\n                     colour=\"red\"\n                      />\n\n                   \n                    </Box>\n\n                  ))}\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" direction=\"column\">\n                  <Box margin={5}>\n                    {this.state.cartItems.length ===0 && (\n                      <Text color=\"red\">Cart is Empty</Text>\n                    )}\n                  </Box>\n                  <Box margin={3}>\n                  <Text size=\"lg\">Total {calcPrice(this.state.cartItems)}</Text>\n                 </Box>\n                  <Button text=\"Checkout\" inline onClick={this.checkout}/> \n                 \n                </Box>\n                </Box>\n              </Mask>\n            </Box>\n\n            </div>\n        )\n    }\n}\nexport default withRouter(Details);"]},"metadata":{},"sourceType":"module"}