{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.go = exports.replaceLocation = exports.pushLocation = exports.startListener = exports.getUserConfirmation = exports.getCurrentLocation = undefined;\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\nvar needsHashchangeListener = _ExecutionEnvironment.canUseDOM && !(0, _DOMUtils.supportsPopstateOnHashchange)();\n\nvar _createLocation = function _createLocation(historyState) {\n  var key = historyState && historyState.key;\n  return (0, _LocationUtils.createLocation)({\n    pathname: window.location.pathname,\n    search: window.location.search,\n    hash: window.location.hash,\n    state: key ? (0, _DOMStateStorage.readState)(key) : undefined\n  }, undefined, key);\n};\n\nvar getCurrentLocation = exports.getCurrentLocation = function getCurrentLocation() {\n  var historyState = void 0;\n\n  try {\n    historyState = window.history.state || {};\n  } catch (error) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    historyState = {};\n  }\n\n  return _createLocation(historyState);\n};\n\nvar getUserConfirmation = exports.getUserConfirmation = function getUserConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n\nvar startListener = exports.startListener = function startListener(listener) {\n  var handlePopState = function handlePopState(event) {\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) // Ignore extraneous popstate events in WebKit\n      return;\n    listener(_createLocation(event.state));\n  };\n\n  (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n  var handleUnpoppedHashChange = function handleUnpoppedHashChange() {\n    return listener(getCurrentLocation());\n  };\n\n  if (needsHashchangeListener) {\n    (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n  }\n\n  return function () {\n    (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n    if (needsHashchangeListener) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n    }\n  };\n};\n\nvar updateLocation = function updateLocation(location, updateState) {\n  var state = location.state,\n      key = location.key;\n  if (state !== undefined) (0, _DOMStateStorage.saveState)(key, state);\n  updateState({\n    key: key\n  }, (0, _PathUtils.createPath)(location));\n};\n\nvar pushLocation = exports.pushLocation = function pushLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.pushState(state, null, path);\n  });\n};\n\nvar replaceLocation = exports.replaceLocation = function replaceLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.replaceState(state, null, path);\n  });\n};\n\nvar go = exports.go = function go(n) {\n  if (n) window.history.go(n);\n};","map":{"version":3,"sources":["/Users/saikiran/Desktop/Mojo-Ecommerce/react-ecommerce/node_modules/react-router/node_modules/history/lib/BrowserProtocol.js"],"names":["exports","__esModule","go","replaceLocation","pushLocation","startListener","getUserConfirmation","getCurrentLocation","undefined","_LocationUtils","require","_DOMUtils","_DOMStateStorage","_PathUtils","_ExecutionEnvironment","PopStateEvent","HashChangeEvent","needsHashchangeListener","canUseDOM","supportsPopstateOnHashchange","_createLocation","historyState","key","createLocation","pathname","window","location","search","hash","state","readState","history","error","message","callback","confirm","listener","handlePopState","event","isExtraneousPopstateEvent","addEventListener","handleUnpoppedHashChange","removeEventListener","updateLocation","updateState","saveState","createPath","path","pushState","replaceState","n"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.go = exports.replaceLocation = exports.pushLocation = exports.startListener = exports.getUserConfirmation = exports.getCurrentLocation = undefined;\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar needsHashchangeListener = _ExecutionEnvironment.canUseDOM && !(0, _DOMUtils.supportsPopstateOnHashchange)();\n\nvar _createLocation = function _createLocation(historyState) {\n  var key = historyState && historyState.key;\n\n  return (0, _LocationUtils.createLocation)({\n    pathname: window.location.pathname,\n    search: window.location.search,\n    hash: window.location.hash,\n    state: key ? (0, _DOMStateStorage.readState)(key) : undefined\n  }, undefined, key);\n};\n\nvar getCurrentLocation = exports.getCurrentLocation = function getCurrentLocation() {\n  var historyState = void 0;\n  try {\n    historyState = window.history.state || {};\n  } catch (error) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    historyState = {};\n  }\n\n  return _createLocation(historyState);\n};\n\nvar getUserConfirmation = exports.getUserConfirmation = function getUserConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\nvar startListener = exports.startListener = function startListener(listener) {\n  var handlePopState = function handlePopState(event) {\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) // Ignore extraneous popstate events in WebKit\n      return;\n    listener(_createLocation(event.state));\n  };\n\n  (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n  var handleUnpoppedHashChange = function handleUnpoppedHashChange() {\n    return listener(getCurrentLocation());\n  };\n\n  if (needsHashchangeListener) {\n    (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n  }\n\n  return function () {\n    (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n    if (needsHashchangeListener) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n    }\n  };\n};\n\nvar updateLocation = function updateLocation(location, updateState) {\n  var state = location.state,\n      key = location.key;\n\n\n  if (state !== undefined) (0, _DOMStateStorage.saveState)(key, state);\n\n  updateState({ key: key }, (0, _PathUtils.createPath)(location));\n};\n\nvar pushLocation = exports.pushLocation = function pushLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.pushState(state, null, path);\n  });\n};\n\nvar replaceLocation = exports.replaceLocation = function replaceLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.replaceState(state, null, path);\n  });\n};\n\nvar go = exports.go = function go(n) {\n  if (n) window.history.go(n);\n};"]},"metadata":{},"sourceType":"script"}